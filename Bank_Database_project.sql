create database BMS_DB1;

use BMS_DB1;

-- 1. CUSTOMER_PERSONAL_INFO
create table  CUSTOMER_PERSONAL_INFO
(
CUSTOMER_ID VARCHAR(5),
CUSTOMER_NAME VARCHAR(30),
DATE_OF_BIRTH DATE,
GUARDIAN_NAME VARCHAR(30),
ADDRESS VARCHAR(50),
CONTACT_NO BIGINT(10),
MAIL_ID VARCHAR(30),
GENDER CHAR(1),
MARITAL_STATUS VARCHAR(10),
IDENTIFICATION_DOC_TYPE VARCHAR(20),
ID_DOC_NO VARCHAR(20),
CITIZENSHIP VARCHAR(10),
CONSTRAINT CUST_PERS_INFO_PK PRIMARY KEY(CUSTOMER_ID)
);

SHOW TABLES;
-- 2 CUSTOMER_REFERENCE_INFO

CREATE TABLE CUSTOMER_REFERENCE_INFO
(
CUSTOMER_ID VARCHAR(5),
REFERENCE_ACC_NAME VARCHAR(20),
REFERENCE_ACC_NO BIGINT(16),
REFERENCE_ACC_ADDRESS VARCHAR(50),
RELATION VARCHAR(50),
CONSTRAINT CUST_REF_INFO_PK PRIMARY KEY(CUSTOMER_ID),
CONSTRAINT CUST_REF_INFO_FK FOREIGN KEY(CUSTOMER_ID) REFERENCES CUSTOMER_PERSONAL_INFO(CUSTOMER_ID)
);

SHOW TABLES;
drop table customer_reference_info;

-- 3. BANK_INFO

CREATE TABLE BANK_INFO
(
IFSC_CODE VARCHAR(15),
BANK_NAME VARCHAR(25),
BRANCH_NAME VARCHAR(25),
CONSTRAINT BANK_INFO_PK PRIMARY KEY(IFSC_CODE)
);

DELETE FROM bank_info
where IFSC_CODE='HDFC1250486';

SHOW TABLES;
-- ACCOUNT_INFO

CREATE TABLE ACCOUNT_INFO
(
ACCOUNT_NO BIGINT(16),
CUSTOMER_ID VARCHAR(5),
ACCOUNT_TYPE VARCHAR(10),
REGISTRATION_DATE DATE,
ACTIVATION_DATE DATE,
IFSC_CODE VARCHAR(15),
INTEREST DECIMAL(7,2),
INITIAL_DEPOSIT BIGINT(10),
CONSTRAINT ACC_INFO_PK PRIMARY KEY(ACCOUNT_NO)
);

-- ADD DATA IN BANK_INFO
INSERT INTO bank_info(IFSC_CODE,BANK_NAME,BRANCH_NAME) VALUES('HDFC125048','HDFC','PUNE');
INSERT INTO bank_info(IFSC_CODE,BANK_NAME,BRANCH_NAME) VALUES('ICICI15051','ICICI','MUMBAI');
INSERT INTO bank_info(IFSC_CODE,BANK_NAME,BRANCH_NAME) VALUES('SBI0116214','SBI','NAGPUR' );
INSERT INTO bank_info(IFSC_CODE,BANK_NAME,BRANCH_NAME) VALUES('AXIS560536','AXIS','THANE');


-- ADD DATA IN CUSTOMER TABLE

INSERT INTO customer_personal_info
(CUSTOMER_ID,CUSTOMER_NAME,DATE_OF_BIRTH,GUARDIAN_NAME,ADDRESS,CONTACT_NO,MAIL_ID,GENDER,MARITAL_STATUS,IDENTIFICATION_DOC_TYPE,ID_DOC_NO,CITIZENSHIP) VALUES(1,'UMESH SHINDE','1998-03-15','RAMESH KODE','PUNE',9423601014,'umeshshinde@gmail.com','M','MARRIED','AADHAR_CARD',123496398456,'INDIA');
INSERT INTO customer_personal_info
(CUSTOMER_ID,CUSTOMER_NAME,DATE_OF_BIRTH,GUARDIAN_NAME,ADDRESS,CONTACT_NO,MAIL_ID,GENDER,MARITAL_STATUS,IDENTIFICATION_DOC_TYPE,ID_DOC_NO,CITIZENSHIP) VALUES(2,'RAHUL LOTHE','1995-01-26','AKASH PALLAV','NAGPUR',8374914623,'rahullothe@gmail.com','M','UNMARRIED','AADHAR_CARD',834665142312,'INDIA');
INSERT INTO customer_personal_info
(CUSTOMER_ID,CUSTOMER_NAME,DATE_OF_BIRTH,GUARDIAN_NAME,ADDRESS,CONTACT_NO,MAIL_ID,GENDER,MARITAL_STATUS,IDENTIFICATION_DOC_TYPE,ID_DOC_NO,CITIZENSHIP) VALUES(3,'HARSH  GADAVE','2000-12-30','KISHAN  TONGE','MUMBAI',9420842123,'harshgadave@gmail.com','M','UNMARRIED','PAN_CARD','CNNPN1425','INDIA');
INSERT INTO customer_personal_info
(CUSTOMER_ID,CUSTOMER_NAME,DATE_OF_BIRTH,GUARDIAN_NAME,ADDRESS,CONTACT_NO,MAIL_ID,GENDER,MARITAL_STATUS,IDENTIFICATION_DOC_TYPE,ID_DOC_NO,CITIZENSHIP) VALUES(4,'SHIVANI  GOYAL','1992-4-25','LATA  PANSE','VASHI',9637460245,'shivanigoyal@gmail.com','F','MARRIED','PAN_CARD','MNTPA5202','INDIA');


-- ADD DATA INTO customer_reference_info 

INSERT INTO customer_reference_info(CUSTOMER_ID,REFERENCE_ACC_NAME,REFERENCE_ACC_NO,REFERENCE_ACC_ADDRESS,RELATION) VALUES(1,'VAISHNAV LOTHE','84598412634','KARVE NAGAR PUNE','FATHER');
INSERT INTO customer_reference_info(CUSTOMER_ID,REFERENCE_ACC_NAME,REFERENCE_ACC_NO,REFERENCE_ACC_ADDRESS,RELATION) VALUES(2,'ROHIT PAWAR','86552014311','DECCAN GYMKHANA,PUNE','UNCLE');
INSERT INTO customer_reference_info(CUSTOMER_ID,REFERENCE_ACC_NAME,REFERENCE_ACC_NO,REFERENCE_ACC_ADDRESS,RELATION) VALUES(3,'ALOK SHARMA',68451492301,'GOREGAON EAST MUMBAI','COUSIN');
INSERT INTO customer_reference_info(CUSTOMER_ID,REFERENCE_ACC_NAME,REFERENCE_ACC_NO,REFERENCE_ACC_ADDRESS,RELATION) VALUES(4,'SWATI SHUKLA',74214316852,'MAHATMA GANDHI ROAD MUMBAI','WIFE');

-- ADD DATA INTO ACCCOUNT_INFO
INSERT INTO account_info(ACCOUNT_NO,CUSTOMER_ID,ACCOUNT_TYPE,REGISTRATION_DATE,ACTIVATION_DATE,IFSC_CODE,INTEREST,INITIAL_DEPOSIT) VALUES('36021421441',1,'SAVINGS','2007-2-14','2007-2-20','HDFC125048',6.2,25000);
INSERT INTO account_info(ACCOUNT_NO,CUSTOMER_ID,ACCOUNT_TYPE,REGISTRATION_DATE,ACTIVATION_DATE,IFSC_CODE,INTEREST,INITIAL_DEPOSIT) VALUES('36931914895',2,'CURRENT','2005-11-22','2005-11-30','ICICI15051',7.2,50000);
INSERT INTO account_info(ACCOUNT_NO,CUSTOMER_ID,ACCOUNT_TYPE,REGISTRATION_DATE,ACTIVATION_DATE,IFSC_CODE,INTEREST,INITIAL_DEPOSIT) VALUES('50251902642',3,'SAVINGS','2010-12-12','2010-12-20','SBI0116214',5.5,100000);
INSERT INTO account_info(ACCOUNT_NO,CUSTOMER_ID,ACCOUNT_TYPE,REGISTRATION_DATE,ACTIVATION_DATE,IFSC_CODE,INTEREST,INITIAL_DEPOSIT) VALUES('85546982331',4,'FIXED','2012-2-5','2012-2-15','AXIS560536',8.5,150000);

SELECT * FROM customer_personal_info;
SELECT * FROM bank_info;
SELECT * FROM customer_reference_info;
SELECT * FROM account_info;

SELECT * FROM customer_personal_info
WHERE CUSTOMER_ID=1;

UPDATE account_info
SET INITIAL_DEPOSIT = 40000
WHERE CUSTOMER_ID=4;

SELECT * FROM account_info
WHERE CUSTOMER_ID=2;

DELETE FROM  bank_info
WHERE IFSC_CODE= '' ;

-- DISABLE SAFE UPDATE
SET SQL_SAFE_UPDATES=0;

-- UPDATE THE ROW
UPDATE account_info
SET INITIAL_DEPOSIT = 10000
WHERE  CUSTOMER_ID=1;